<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui">


<h:body>
	<ui:fragment>
		<h:form id="subscriptionsPieChartForm">
		
				<!-- Subscriptions PieChart -->
							<div id="subscriptionsPieChart"
								style="height: 250px; width: 250px;"></div>
							<script type="text/javascript">
							if (window.subscriptionsPieChart != null) {
								window.subscriptionsPieChart.destroy();
							}
							window.subscriptionsPieChart=jQuery.jqplot ('subscriptionsPieChart', [#{visualizerBean.running or visualizerBean.finished ? brokerService.json.customerCountData : "[0,10]"}],
								    {
									title: 'Number of subscriptions for each broker',
									highlighter: { show: false },
								   	seriesDefaults: {
								        // Make this a pie chart.
								        renderer: jQuery.jqplot.PieRenderer,
								        rendererOptions: {
								        	fill: false,
								          // Put data labels on the pie slices.
								          // By default, labels show the percentage of the slice.
								          showDataLabels: true,
								          
								          // stroke the slices with a little thicker line.
								          lineWidth: 4
								        }
								      },
								      seriesColors: #{visualizerBean.running or visualizerBean.finished ? brokerService.json.brokerSeriesColors : "['#4bb2c5','#4bccc5']"},
								     
								     legend: { show:false, location: 's' }
								    }
								  );
								</script>
			</h:form>
	</ui:fragment>
</h:body>

</html>

